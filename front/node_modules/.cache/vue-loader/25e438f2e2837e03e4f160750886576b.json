{"remainingRequest":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuchenghan/Desktop/LibraryManagementSystem/front/src/components/index/IndexMain.vue?vue&type=style&index=0&id=16fdb8a4&scoped=true&lang=css","dependencies":[{"path":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/src/components/index/IndexMain.vue","mtime":1772208578655},{"path":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/node_modules/css-loader/dist/cjs.js","mtime":1772203474308},{"path":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1772203474027},{"path":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/node_modules/postcss-loader/src/index.js","mtime":1772203474045},{"path":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/node_modules/cache-loader/dist/cjs.js","mtime":1772203478686},{"path":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/node_modules/vue-loader/lib/index.js","mtime":1772203474026}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5pbmRleC1tYWluIHsKICBoZWlnaHQ6IDEwMCU7Cn0K"},{"version":3,"sources":["IndexMain.vue"],"names":[],"mappings":";AAqEA;AACA;AACA","file":"IndexMain.vue","sourceRoot":"src/components/index","sourcesContent":["<template>\n  <div class=\"index-main\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"IndexMain\",\n  data() {\n    return {\n      menuList: []\n    };\n  },\n  mounted() {\n    this.getMenus();\n  },\n  methods: {\n    getMenus() {\n      this.$http({\n        url: \"menu/list\",\n        method: \"get\"\n      }).then(({ data }) => {\n        if (data && data.code === 0) {\n          const menus = data.data || [];\n\n          // ====== ğŸ”¥ è§’è‰²è¿‡æ»¤æ ¸å¿ƒé€»è¾‘ ======\n          const role =\n              (localStorage.getItem(\"role\") ||\n                  localStorage.getItem(\"Role\") ||\n                  \"\").trim();\n\n          const table =\n              (localStorage.getItem(\"userTable\") ||\n                  localStorage.getItem(\"tableName\") ||\n                  \"\").trim();\n\n          const filteredMenus = (menus || []).filter(menu => {\n            const roleName = (menu.roleName || menu.role || \"\").trim();\n            const tableName = (menu.tableName || menu.table || \"\").trim();\n\n            // å¦‚æœèœå•æ²¡æœ‰è§’è‰²é™åˆ¶ â†’ æ”¾è¡Œ\n            if (!roleName && !tableName) return true;\n\n            // ä¼˜å…ˆåŒ¹é… tableNameï¼ˆç”Ÿæˆå™¨å¸¸è§ï¼‰\n            if (tableName && table) return tableName === table;\n\n            // é€€åŒ–åŒ¹é… roleName\n            if (roleName && role) return roleName === role;\n\n            return true;\n          });\n          // ====== ğŸ”¥ ç»“æŸ ======\n\n          this.menuList = filteredMenus;\n\n          // å…³é”®ï¼šå†™å…¥ sessionStorage\n          sessionStorage.setItem(\n              \"menuList\",\n              JSON.stringify(filteredMenus)\n          );\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.index-main {\n  height: 100%;\n}\n</style>\n"]}]}