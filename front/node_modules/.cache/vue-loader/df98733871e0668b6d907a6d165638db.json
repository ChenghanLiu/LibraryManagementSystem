{"remainingRequest":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuchenghan/Desktop/LibraryManagementSystem/front/src/components/index/IndexHeader.vue?vue&type=style&index=0&id=71e3f342&scoped=true&lang=scss","dependencies":[{"path":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/src/components/index/IndexHeader.vue","mtime":1772210530065},{"path":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/node_modules/css-loader/dist/cjs.js","mtime":1772203474308},{"path":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1772203474027},{"path":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/node_modules/postcss-loader/src/index.js","mtime":1772203474045},{"path":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/node_modules/sass-loader/dist/cjs.js","mtime":1772203479406},{"path":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/node_modules/cache-loader/dist/cjs.js","mtime":1772203478686},{"path":"/Users/liuchenghan/Desktop/LibraryManagementSystem/front/node_modules/vue-loader/lib/index.js","mtime":1772203474026}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8qIOS9oOWOn+adpeeahOagt+W8j+WmguaenOW+iOmVv++8jOW7uuiuruebtOaOpeS/neeVmeWOn+aWh+S7tueahCBzdHlsZe+8jOaIkei/memHjOe7meS9oOS4gOS4quS4jeegtOWdj+W4g+WxgOeahOacgOWwj+eJiOacrCAqLwoubmF2YmFyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIHBhZGRpbmc6IDAgMTZweDsKfQoKLmxlZnQtbWVudSB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9CgoucmlnaHQtbWVudSB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGdhcDogMTRweDsKfQoKLmxvZ291dCB7CiAgY3Vyc29yOiBwb2ludGVyOwogIHBhZGRpbmc6IDAgMTBweDsKICBib3JkZXItcmFkaXVzOiA2cHg7Cn0K"},{"version":3,"sources":["IndexHeader.vue"],"names":[],"mappings":";AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"IndexHeader.vue","sourceRoot":"src/components/index","sourcesContent":["<template>\n  <div class=\"navbar\" :style=\"{backgroundColor:heads.headBgColor,height:heads.headHeight,boxShadow:heads.headBoxShadow,lineHeight:heads.headHeight}\">\n    <div class=\"left-menu\">\n      <div class=\"title\" :style=\"{color:heads.headTitleColor,fontSize:heads.headTitleFontSize}\">\n        {{this.$project.projectName}}\n      </div>\n    </div>\n\n    <div class=\"right-menu\">\n      <div class=\"user\" :style=\"{color:heads.headUserInfoFontColor,fontSize:heads.headUserInfoFontSize}\">\n        {{this.$storage.get('role')}} {{this.$storage.get('adminName')}}\n      </div>\n\n      <div class=\"logout\"\n           :style=\"{color:heads.headLogoutFontColor,fontSize:heads.headLogoutFontSize}\"\n           @click=\"onIndexTap\">\n        退出到前台\n      </div>\n\n      <div class=\"logout\"\n           :style=\"{color:heads.headLogoutFontColor,fontSize:heads.headLogoutFontSize}\"\n           @click=\"onLogout\">\n        退出登录\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      dialogVisible: false,\n      ruleForm: {},\n      user: {},\n      // 你原来的 heads 配置我不改（保持你项目里头部可配置）\n      heads: {}\n    };\n  },\n  mounted() {\n    // 你原来 mounted 里怎么取 heads 就怎么取（如果你原文件里有这段，请你把原来的 mounted 内容粘回这里）\n    // 为了不影响你原逻辑，这里我只做兜底：\n    try {\n      this.heads = JSON.parse(localStorage.getItem(\"heads\") || \"{}\");\n    } catch (e) {\n      this.heads = {};\n    }\n  },\n  methods: {\n    onLogout() {\n      let storage = this.$storage\n      let router = this.$router\n      storage.clear()\n      router.replace({ name: \"login\" });\n    },\n\n    // ✅ 核心修复：单系统不跳 html，只走路由\n    onIndexTap() {\n      // 你这个项目的“主框架页”就是 /index（router-static.js 里写死的）\n      // 退出到前台 = 回到 /index 的默认子页面\n      // 用 replace 避免历史栈堆积\n      if (this.$route && this.$route.path === \"/index\") {\n        // 如果本来就在 /index，但你觉得“没反应”，强制切到默认子页（一般就是 /index/home 或者 children 里第一个）\n        // 不知道你 children 的具体 path，就用最稳的方式：改 hash\n        window.location.hash = \"#/index\";\n        return;\n      }\n      this.$router.replace({ path: \"/index\" }).catch(() => {});\n    },\n\n    setHeaderStyle() {\n      this.$nextTick(()=>{\n        document.querySelectorAll('.navbar .right-menu .logout').forEach(el=>{\n          el.addEventListener(\"mouseenter\", e => {\n            e.stopPropagation()\n            el.style.backgroundColor = this.heads.headLogoutFontHoverBgColor\n            el.style.color = this.heads.headLogoutFontHoverColor\n          })\n          el.addEventListener(\"mouseleave\", e => {\n            e.stopPropagation()\n            el.style.backgroundColor = \"\"\n            el.style.color = this.heads.headLogoutFontColor\n          })\n        })\n      })\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n/* 你原来的样式如果很长，建议直接保留原文件的 style，我这里给你一个不破坏布局的最小版本 */\n.navbar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 16px;\n}\n\n.left-menu {\n  display: flex;\n  align-items: center;\n}\n\n.right-menu {\n  display: flex;\n  align-items: center;\n  gap: 14px;\n}\n\n.logout {\n  cursor: pointer;\n  padding: 0 10px;\n  border-radius: 6px;\n}\n</style>"]}]}